.\" Automatically generated by Pandoc 2.0.6
.\"
.TH "s1kd\-ref" "1" "2021\-04\-16" "" "s1kd\-tools"
.hy
.SH NAME
.PP
s1kd\-ref \- Generate XML to reference CSDB objects
.SH SYNOPSIS
.IP
.nf
\f[C]
s1kd\-ref\ [\-cdfgiLlqRrStuvh?]\ [\-$\ <issue>]\ [\-s\ <src>]\ [\-T\ <opts>]
\ \ \ \ \ \ \ \ \ [\-x\ <xpath>]\ [\-3\ <file>]\ [\-o\ <dst>]\ [<code>|<file>\ ...]
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[I]s1kd\-ref\f[] tool generates the XML for S1000D reference
elements using the specified code or filename.
When using a filename, it can parse the CSDB object to include the
issue, language, and/or title information in the reference.
.SH OPTIONS
.TP
.B \-$, \-\-issue <issue>
Output XML for the specified issue of S1000D.
.RS
.RE
.TP
.B \-c, \-\-content
When using the \-T option, only transform textual references found in
the content section of CSDB objects.
.RS
.RE
.TP
.B \-d, \-\-include\-date
Include the issue date in the reference (target must be a file)
.RS
.RE
.TP
.B \-f, \-\-overwrite
Overwrite source data module instead of writing to stdout.
.RS
.RE
.TP
.B \-g, \-\-guess\-prefix
Accept references which do not include a standard prefix (e.g., "DMC\-",
"PMC\-") and guess what they are based on their format and, when using
the \-T option, the XML context in which they occur.
.RS
.RE
.TP
.B \-h, \-?, \-\-help
Show the usage message.
.RS
.RE
.TP
.B \-i, \-\-include\-issue
Include the issue information in the reference (target must be a file)
.RS
.RE
.TP
.B \-L, \-\-list
Treat input as a list of CSDB objects.
.RS
.RE
.TP
.B \-l, \-\-include\-lang
Include the language information in the reference (target must be a
file)
.RS
.RE
.TP
.B \-o, \-\-out <dst>
Output to <dst> instead of stdout.
.RS
.RE
.TP
.B \-q, \-\-quiet
Quiet mode.
Do not print errors.
.RS
.RE
.TP
.B \-R, \-\-repository\-id
Generate a \f[C]<repositorySourceDmIdent>\f[] for a data module.
.RS
.RE
.TP
.B \-r, \-\-add
Add the generated reference to the source data module\[aq]s
\f[C]refs\f[] table and output the modified data module to stdout.
.RS
.RE
.TP
.B \-S, \-\-source\-id
Generate a \f[C]<sourceDmIdent>\f[] (for data modules) or
\f[C]<sourcePmIdent>\f[] (for publication modules).
.RS
.RE
.TP
.B \-s, \-\-source <src>
Specify a source data module <src> to add references to when using the
\-r option.
.RS
.RE
.TP
.B \-T, \-\-transform <opts>
Transform textual references into the appropriate XML within text nodes
in the XML document(s) specified.
The textual references must include the standard prefixes (e.g.,
"DMC\-", "PMC\-\[aq]), unless the \-p option is specified.
<opts> is a sequence of characters from "CDEGLPSY", for comment, data
module, external publication, ICN, DML, publication module, SCORM
content package and CSN references respectively.
If "all" is given, then all types of references will be transformed.
.RS
.RE
.TP
.B \-t, \-\-include\-title
Include the title in the reference (target must be a file).
.RS
.RE
.TP
.B \-u, \-\-include\-url
Include the full URL/filename of the reference with the
\f[C]xlink:href\f[] attribute.
.RS
.RE
.TP
.B \-v, \-\-verbose
Verbose output.
.RS
.RE
.TP
.B \-x, \-\-xpath <xpath>
When using the \-T option, this specifies which nodes to transform
textual references in.
By default, only the elements which can contain each type of reference
are considered.
.RS
.RE
.TP
.B \-3, \-\-externalpubs <file>
Use a custom \f[C]\&.externalpubs\f[] file.
.RS
.RE
.TP
.B \-\-version
Show version information.
.RS
.RE
.TP
.B <code>|<file>
Either a code, including the prefix (DMC, PMC, etc.), or the filename of
a CSDB object.
.RS
.RE
.PP
In addition, the following options allow configuration of the XML
parser:
.TP
.B \-\-dtdload
Load the external DTD.
.RS
.RE
.TP
.B \-\-huge
Remove any internal arbitrary parser limits.
.RS
.RE
.TP
.B \-\-net
Allow network access to load external DTD and entities.
.RS
.RE
.TP
.B \-\-noent
Resolve entities.
.RS
.RE
.TP
.B \-\-parser\-errors
Emit errors from parser.
.RS
.RE
.TP
.B \-\-parser\-warnings
Emit warnings from parser.
.RS
.RE
.TP
.B \-\-xinclude
Do XInclude processing.
.RS
.RE
.TP
.B \-\-xml\-catalog <file>
Use an XML catalog when resolving entities.
Multiple catalogs may be loaded by specifying this option multiple
times.
.RS
.RE
.SS \f[C]\&.externalpubs\f[] file
.PP
The \f[C]\&.externalpubs\f[] file contains definitions of external
publication references.
This can be used to generate the XML for an external publication
reference by specifying the external publication code.
.PP
Example of a \f[C]\&.externalpubs\f[] file:
.IP
.nf
\f[C]
<externalPubs>
<externalPubRef>
<externalPubRefIdent>
<externalPubCode>ABC</externalPubCode>
<externalPubTitle>ABC\ Manual</externalPubTitle>
</externalPubRefIdent>
</externalPubRef>
</externalPubs>
\f[]
.fi
.SH EXAMPLES
.PP
Reference to data module with data module code:
.IP
.nf
\f[C]
$\ s1kd\-ref\ DMC\-EX\-A\-00\-00\-00\-00A\-040A\-D
<dmRef>
<dmRefIdent>
<dmCode\ modelIdentCode="EX"\ systemDiffCode="A"\ systemCode="00"
subSystemCode="0"\ subSubSystemCode="0"\ assyCode="00"\ disassyCode="00"
disassyCodeVariant="A"\ infoCode="040"\ infoCodeVariant="A"
itemLocationCode="D"/>
</dmRefIdent>
</dmRef>
\f[]
.fi
.PP
Reference to data module with data module code and issue/language:
.IP
.nf
\f[C]
$\ s1kd\-ref\ \-il\ DMC\-EX\-A\-00\-00\-00\-00A\-040A\-D_001\-03_EN\-CA
<dmRef>
<dmRefIdent>
<dmCode\ modelIdentCode="EX"\ systemDiffCode="A"\ systemCode="00"
subSystemCode="0"\ subSubSystemCode="0"\ assyCode="00"\ disassyCode="00"
disassyCodeVariant="A"\ infoCode="040"\ infoCodeVariant="A"
itemLocationCode="D"/>
<issueInfo\ issueNumber="001"\ inWork="03"/>
<language\ languageIsoCode="en"\ countryIsoCode="CA"/>
</dmRefIdent>
</dmRef>
\f[]
.fi
.PP
Reference to data module with all information, from a file:
.IP
.nf
\f[C]
$\ s1kd\-ref\ \-dilt\ DMC\-EX\-A\-00\-00\-00\-00A\-040A\-D_001\-03_EN\-CA.XML
<dmRef>
<dmRefIdent>
<dmCode\ modelIdentCode="EX"\ systemDiffCode="A"\ systemCode="00"
subSystemCode="0"\ subSubSystemCode="0"\ assyCode="00"\ disassyCode="00"
disassyCodeVariant="A"\ infoCode="040"\ infoCodeVariant="A"
itemLocationCode="D"/>
<issueInfo\ issueNumber="001"\ inWork="03"/>
<language\ languageIsoCode="en"\ countryIsoCode="CA"/>
</dmRefIdent>
<dmRefAddressItems>
<dmTitle>
<techName>Example</techName>
<infoName>Description</infoName>
</dmTitle>
<issueDate\ year="2018"\ month="06"\ day="25"/>
</dmRefAddressItems>
</dmRef>
\f[]
.fi
.PP
Reference to a catalog sequence number:
.IP
.nf
\f[C]
$\ s1kd\-ref\ CSN\-EX\-A\-00\-00\-00\-01A\-004A\-D
<catalogSeqNumberRef\ modelIdentCode="EX"\ systemDiffCode="A"
systemCode="00"\ subSystemCode="0"\ subSubSystemCode="0"\ assyCode="00"
figureNumber="01"\ figureNumberVariant="A"\ item="004"\ itemVariant="A"
itemLocationCode="D"/>
\f[]
.fi
.PP
Reference to a comment:
.IP
.nf
\f[C]
$\ s1kd\-ref\ COM\-EX\-12345\-2018\-00001\-Q
<commentRef>
<commentRefIdent>
<commentCode\ modelIdentCode="EX"\ senderIdent="12345"
yearOfDataIssue="2018"\ seqNumber="00001"\ commentType="q"/>
</commentRefIdent>
</commentRef>
\f[]
.fi
.PP
Reference to a data management list:
.IP
.nf
\f[C]
$\ s1kd\-ref\ DML\-EX\-12345\-C\-2018\-00001
<dmlRef>
<dmlRefIdent>
<dmlCode\ modelIdentCode="EX"\ senderIdent="12345"\ dmlType="c"
yearOfDataIssue="2018"\ seqNumber="00001"/>
</dmlRefIdent>
</dmlRef>
\f[]
.fi
.PP
Reference to an information control number:
.IP
.nf
\f[C]
$\ s1kd\-ref\ ICN\-EX\-A\-000000\-A\-00001\-A\-001\-01
<infoEntityRef\ infoEntityRefIdent="ICN\-EX\-A\-000000\-A\-00001\-A\-001\-01"/>
\f[]
.fi
.PP
Reference to a publication module:
.IP
.nf
\f[C]
$\ s1kd\-ref\ PMC\-EX\-12345\-00001\-00
<pmRef>
<pmRefIdent>
<pmCode\ modelIdentCode="EX"\ pmIssuer="12345"\ pmNumber="00001"
pmVolume="00"/>
</pmRefIdent>
</pmRef>
\f[]
.fi
.PP
Reference to a SCORM content package:
.IP
.nf
\f[C]
$\ s1kd\-ref\ SMC\-EX\-12345\-00001\-00
<scormContentPackageRef>
<scormContentPackageRefIdent>
<scormContentPackageCode
modelIdentCode="EX"
scormContentPackageIssuer="12345"
scormContentPackageNumber="00001"
scormContentPackageVolume="00"/>
</scormContentPackageRefIdent>
</scormContentPackageRef>
\f[]
.fi
.PP
Source identification for a data module:
.IP
.nf
\f[C]
$\ s1kd\-ref\ \-S\ DMC\-EX\-A\-00\-00\-00\-00A\-040A\-D_001\-00_EN\-CA.XML
<sourceDmIdent>
<dmCode\ modelIdentCode="EX"\ systemDiffCode="A"\ systemCode="00"
subSystemCode="0"\ subSubSystemCode="0"\ assyCode="00"\ disassyCode="00"
disassyCodeVariant="A"\ infoCode="040"\ infoCodeVariant="A"
itemLocationCode="D"/>
<language\ languageIsoCode="en"\ countryIsoCode="CA"/>
<issueInfo\ issueNumber="001"\ inWork="00"/>
</sourceDmIdent>
\f[]
.fi
.PP
Source identification for a publication module:
.IP
.nf
\f[C]
$\ s1kd\-ref\ \-S\ PMC\-EX\-12345\-00001\-00_001\-00_EN\-CA.XML
<sourcePmIdent>
<pmCode\ modelIdentCode="EX"\ pmIssuer="12345"\ pmNumber="00001"
pmVolume="00"/>
<language\ languageIsoCode="en"\ countryIsoCode="CA"/>
<issueInfo\ issueNumber="001"\ inWork="00"/>
</sourcePmIdent>
\f[]
.fi
.PP
Source identification for a SCORM content package:
.IP
.nf
\f[C]
$\ s1kd\-ref\ \-S\ SMC\-EX\-12345\-00001\-00_001\-00_EN\-CA.XML
<sourceScormContentPackageIdent>
<scormContentPackageCode
modelIdentCode="EX"
scormContentPackageIssuer="12345"
scormContentPackageNumber="00001"
scormContentPackageVolume="00"/>
<language\ languageIsoCode="en"\ countryIsoCode="CA"/>
<issueInfo\ issueNumber="000"\ inWork="01"/>
</sourceScormContentPackageIdent>
\f[]
.fi
.PP
Repository source identification for a CIR data module:
.IP
.nf
\f[C]
$\ s1kd\-ref\ \-R\ DMC\-EX\-A\-00\-00\-00\-00A\-00GA\-D_001\-00_EN\-CA.XML
<repositorySourceDmIdent>
<dmCode\ modelIdentCode="EX"\ systemDiffCode="A"\ systemCode="00"
subSystemCode="0"\ subSubSystemCode="0"\ assyCode="00"\ disassyCode="00"
disassyCodeVariant="A"\ infoCode="00G"\ infoCodeVariant="A"
itemLocationCode="D"/>
<language\ languageIsoCode="en"\ countryIsoCode="CA"/>
<issueInfo\ issueNumber="001"\ inWork="00"/>
</repositorySourceDmIdent>
\f[]
.fi
.PP
Reference to an external publication:
.IP
.nf
\f[C]
$\ s1kd\-ref\ ABC
<externalPubRef>
<externalPubRefIdent>
<externalPubCode>ABC</externalPubCode>
</externalPubRefIdent>
</externalPubRef>
\f[]
.fi
.PP
Reference to an external publication (from the \f[C]\&.externalpubs\f[]
file):
.IP
.nf
\f[C]
$\ s1kd\-ref\ ABC
<externalPubRef>
<externalPubRefIdent>
<externalPubCode>ABC</externalPubCode>
<externalPubTitle>ABC\ Manual</externalPubTitle>
</externalPubRefIdent>
</externalPubRef>
\f[]
.fi
.SH AUTHORS
khzae.net.
