.\" Automatically generated by Pandoc 2.3.1
.\"
.TH "s1kd\-flatten" "1" "2019\-10\-25" "" "s1kd\-tools"
.hy
.SH NAME
.PP
s1kd\-flatten \- Flatten a publication module for publishing
.SH SYNOPSIS
.IP
.nf
\f[C]
s1kd\-flatten\ [\-d\ <dir>]\ [\-I\ <path>]\ [\-cDfimNpqRruvx]\ <PM>\ [<DM>...]
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[I]s1kd\-flatten\f[] tool combines a publication module and the
data modules it references in to a single file for use with a publishing
system.
.PP
Data modules are by default searched for in the current directory using
the data module code, language and/or issue info provided in each
reference.
.SH OPTIONS
.TP
.B \-c, \-\-containers
Flatten referenced container data modules by copying the references
inside the container directly in to the publication module.
The copied references will also be flattened, unless the \-m option is
specified.
.RS
.RE
.TP
.B \-D, \-\-remove
Remove unresolved references.
.RS
.RE
.TP
.B \-d, \-\-dir <dir>
Directory to start search in.
By default, the current directory is used.
.RS
.RE
.TP
.B \-f, \-\-overwrite
Overwrite input publication module instead of writing to stdout.
.RS
.RE
.TP
.B \-h, \-?, \-\-help
Show help/usage message.
.RS
.RE
.TP
.B \-I, \-\-include <path>
Add <path> to the list of directories that the tool will search when
resolving references.
.RS
.RE
.TP
.B \-i, \-\-ignore\-issue
Always match the latest issue of an object found, regardless of the
issue specified in the reference.
.RS
.RE
.TP
.B \-m, \-\-modify
Modify the references in the publication module without flattening them.
.RS
.RE
.TP
.B \-N, \-\-omit\-issue
Assume that the files representing the referenced data modules do not
include the issue info in their filenames, i.e.
they were created using the \-N option of the s1kd\-new* tools.
.RS
.RE
.TP
.B \-p, \-\-simple
Instead of the hierarchical PM\-based format, use a simpler "flat"
format.
.RS
.RE
.TP
.B \-q, \-\-quiet
Quiet mode.
Errors are not printed.
.RS
.RE
.TP
.B \-R, \-\-recursively
Recursively flatten referenced publication modules, copying their
content in to the "master" publication module.
.RS
.RE
.TP
.B \-r, \-\-recursive
Search directories recursively.
.RS
.RE
.TP
.B \-u, \-\-unique
Remove duplicate references within the PM content.
.RS
.RE
.TP
.B \-v, \-\-verbose
Verbose output.
Specify multiple times to increase the verbosity.
.RS
.RE
.TP
.B \-x, \-\-use\-xinclude
Use XInclude rather than copying each data module\[aq]s contents
directly inside the publication module.
DTD entities in data modules will only be carried over to the final
publication when using this option, otherwise they do not carry over
when copying the data module.
.RS
.RE
.TP
.B \-\-version
Show version information.
.RS
.RE
.TP
.B <DM>...
When using the \-p option, the filenames to include can be specified
manually as additional arguments instead of searching for them in the
current directory.
When not using the \-p option, additional arguments are ignored.
.RS
.RE
.TP
.B <PM>
The publication module to flatten.
.RS
.RE
.PP
In addition, the following options enable features of the XML parser
that are disabled as a precaution by default:
.TP
.B \-\-dtdload
Load the external DTD.
.RS
.RE
.TP
.B \-\-net
Allow network access to load external DTD and entities.
.RS
.RE
.TP
.B \-\-noent
Resolve entities.
.RS
.RE
.TP
.B \-\-xinclude
Do XInclude processing.
.RS
.RE
.SH EXIT STATUS
.TP
.B 0
No errors.
.RS
.RE
.TP
.B 1
The publication module specified is malformed.
.RS
.RE
.TP
.B 2
An encoding error occurred.
.RS
.RE
.SH EXAMPLE
.IP
.nf
\f[C]
$\ s1kd\-flatten\ \-x\ PMC\-EX\-12345\-00001\-00_001\-00_EN\-CA.XML\ >\ Book.xml
\f[]
.fi
.SH AUTHORS
khzae.net.
